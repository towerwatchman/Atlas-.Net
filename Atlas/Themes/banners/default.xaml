<UserControl x:Class="Atlas.UI.GameBanner"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:Double x:Key="bannerX">537</sys:Double>
            <sys:Double x:Key="bannerY">251</sys:Double>
            <!-- Overlay Top and Bottom-->
            <sys:Double x:Key="overlayTopH">26</sys:Double>
            <sys:Double x:Key="overlayBottomH">26</sys:Double>
            <sys:Boolean x:Key="overlayTopEnable">true</sys:Boolean>
            <sys:Boolean x:Key="overlayBottomEnable">true</sys:Boolean>
            <SolidColorBrush x:Key="overlayTopColor">#000000</SolidColorBrush>
            <SolidColorBrush x:Key="overlayBottomColor">#000000</SolidColorBrush>
            <SolidColorBrush x:Key="updateColor">Gold</SolidColorBrush>
            <sys:Double x:Key="overlayOpacity">.8</sys:Double>
            <!-- Grid Resources. DO NOT EDIT-->
            <sys:Int32 x:Key="Rows">0</sys:Int32>
            <sys:Int32 x:Key="Columns">0</sys:Int32>
            <BooleanToVisibilityConverter x:Key="BoolToVisConverter" />
			<BitmapImage x:Key="config_image"
                         UriSource="pack://application:,,,/Assets/Images/config_image.webp" />
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:Name="LayoutRoot">
        <Grid Margin="4">
            <Border  BorderThickness="1"
                     BorderBrush="Black">
                <Grid  d:DesignHeight="{DynamicResource bannerY}"
                       d:DesignWidth="{DynamicResource bannerX}"
                       Height="{DynamicResource bannerY}"
                       Width="{DynamicResource bannerX}">
                    <!-- Layout is backwards. Topmost item is at the back-->
                    <!--<Image Source="{Binding ImageData}" Stretch="Fill" RenderOptions.BitmapScalingMode="LowQuality" Height="{DynamicResource bannerY}">
            <Image.Effect>
                <BlurEffect Radius="20"/>
            </Image.Effect>
        </Image>
         This will only work for images that are not wide enough. Will need to add another option 
        <Image Source="{Binding ImageData}"
               Stretch="Uniform"
               RenderOptions.BitmapScalingMode="HighQuality"
               Height="{DynamicResource bannerY}">
            <Image.OpacityMask>
                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                    <GradientStop Color="Transparent" Offset="0.0"/>
                    <GradientStop Color="Black" Offset="0.08"/>
                    <GradientStop Color="Black" Offset="0.92"/>
                    <GradientStop Color="Transparent" Offset="1.0"/>
                </LinearGradientBrush>
            </Image.OpacityMask>
        </Image>-->
                    <Image Source="{Binding BannerImage, IsAsync=True, Mode=OneWay, FallbackValue={StaticResource config_image}}"
                           Stretch="Uniform"
                           Height="{DynamicResource bannerY}" />
                    <Grid VerticalAlignment="Top"
                          x:Name="OverlayTop"
                          Height="{DynamicResource overlayTopH}"
                          Width="{DynamicResource bannerX}"
                          Background="{DynamicResource overlayTopColor}"
                          Opacity="{DynamicResource overlayOpacity}" />
                    <Grid VerticalAlignment="Bottom"
                          x:Name="OverlayBottom"
                          Height="{DynamicResource overlayBottomH}"
                          Width="{DynamicResource bannerX}"
                          Background="{DynamicResource overlayTopColor}"
                          Opacity="{DynamicResource overlayOpacity}" />
                    <!-- Text for Layout-->
                    <TextBlock VerticalAlignment="Bottom"
                               HorizontalAlignment="Center"
                               Text="{Binding Title, FallbackValue=Galaxy Crossing: First Conquest}"
                               Foreground="White"
                               Margin="3,3,3,3"
                               Padding="2"
                               Background="Transparent"
                               FontSize="14"></TextBlock>
                    <TextBox VerticalAlignment="Bottom"
                             HorizontalAlignment="Left"
                             Text="{Binding Engine, FallbackValue=Unity}"
                             Foreground="White"
                             Margin="3,3,3,3"
                             Padding="2"
                             Background="Transparent"
                             FontSize="12"
                             BorderThickness="0">
                        <TextBox.Resources>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="CornerRadius"
                                        Value="3" />
                            </Style>
                        </TextBox.Resources>
                    </TextBox>
                    <TextBox VerticalAlignment="Top"
                             HorizontalAlignment="Left"
                             Text="{Binding Creator, FallbackValue=Altas Games}"
                             Foreground="White"
                             Margin="3,3,3,3"
                             Padding="2"
                             Background="Transparent"
                             FontSize="12"
                             BorderThickness="0" />
                    <Button x:Name="UpdateAvailable"
                            VerticalAlignment="Top"
                            HorizontalAlignment="Right"
                            Content="Update Available!"
                            Width="90"
                            Height="20"
                            Foreground="{DynamicResource updateColor}"
                            Margin="3,3,3,0"
                            Background="Transparent"
                            Tag="{Binding SiteUrl}"
                            FontSize="10"
                            BorderThickness="3"
                            BorderBrush="{DynamicResource updateColor}"
                            Visibility="{Binding IsUpdateAvailable, Converter={StaticResource BoolToVisConverter},Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}" />
                    <!--<TextBox VerticalAlignment="Top"
                 HorizontalAlignment="Right"
                 Text="{Binding Version}"
                 Foreground="White"
                 Margin="3,3,3,3"
                 Padding="2"
                 Background="Transparent"
                 FontSize="12"
                 BorderThickness="0" />-->
                    <TextBox VerticalAlignment="Bottom"
                             HorizontalAlignment="Right"
                             Text="{Binding Status, FallbackValue=Complete}"
                             Foreground="White"
                             Margin="3,3,3,3"
                             Padding="2"
                             Background="Transparent"
                             FontSize="12"
                             BorderThickness="0" />
                </Grid>
            </Border>
        </Grid>
    </Grid>
</UserControl>
